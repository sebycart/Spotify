<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 Data sources | Spotify Analysis</title>
  <meta name="description" content="Chapter 2 Data sources | Spotify Analysis" />
  <meta name="generator" content="bookdown 0.26 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 Data sources | Spotify Analysis" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 Data sources | Spotify Analysis" />
  
  
  

<meta name="author" content="Sebastian Carter &amp; Yinda Qian" />


<meta name="date" content="2022-05-04" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="data-transformation.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Spotify</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="data-sources.html"><a href="data-sources.html"><i class="fa fa-check"></i><b>2</b> Data sources</a></li>
<li class="chapter" data-level="3" data-path="data-transformation.html"><a href="data-transformation.html"><i class="fa fa-check"></i><b>3</b> Data transformation</a></li>
<li class="chapter" data-level="4" data-path="missing-values.html"><a href="missing-values.html"><i class="fa fa-check"></i><b>4</b> Missing values</a></li>
<li class="chapter" data-level="5" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>5</b> Results</a></li>
<li class="chapter" data-level="6" data-path="interactive-component.html"><a href="interactive-component.html"><i class="fa fa-check"></i><b>6</b> Interactive component</a></li>
<li class="chapter" data-level="7" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>7</b> Conclusion</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Spotify Analysis</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-sources" class="section level1 hasAnchor" number="2">
<h1><span class="header-section-number">Chapter 2</span> Data sources<a href="data-sources.html#data-sources" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>We sourced our data from <a href="https://developer.spotify.com/documentation/web-api/guides/">Spotify’s API</a>. Spotify manages its API and provides extensive documentation on its variables, etc. Generally speaking, the Spotify API is used by developers to collect information on musical artists, songs, albums, etc. The API provides data on specific artists - such as their followers, popularity, discography, etc. - and on the music in whatever form it is in (songs, albums, playlists). The data on the music includes audio features, such as ‘danceability’, ‘energy’, ‘speechiness’, ‘key’, and more. Clearly, many of the features in the Spotify API data are the output of Spotify’s proprietary algorithms – for example, how you measure “danceability” depends on a number of factors that Spotify have chosen at their discretiono. Another variable we used throughout our project was ‘popularity’. Artists have a <code>popularity</code> rating, as do albums and songs. Spotify does not provide any specific details on how their algorithms calculate this metric, however we do know that it is dependent on number of listens as well as how recent those listens are.</p>
<p>As with most API’s, many of these metrics are updated continuously – for example, an artist’s number of followers will change, but the audio features of one of their songs will not. All of the information we are able to pull from the API is the latest data, i.e. we cannot see historical data, such as how an artist’s <code>popularity</code> has changed over time.</p>
<p>In this project we used the <code>SpotifyR</code> package to pull data from the API. <code>SpotifyR</code> is a very useful R wrapper for the Spotify Web API. The package was last updated in November 2021 and it contains a number of useful functions that streamlined the data collection process of this project. The primary functions we used were the following:</p>
<ul>
<li><code>get_genre_artists()</code>
<ul>
<li>This function pulls the most popular artists (as determined by Spotify) in a specific genre and market (country). We used this function to pull the 20 most popular rap and country artists across 8 different markets. Each row in this data equates to an artist.</li>
</ul></li>
<li><code>get_artist_top_tracks()</code>
<ul>
<li>This function allows you to pull the top/most popular tracks of an artist (you can choose the number of tracks). We fed in the artist id’s from the <code>get_genre_artists()</code> data and got the top 10 tracks for each of the top 20 rap artists in each country – around 200 tracks for each of the 8 countries country (1600 rap songs total). So in this dataset each row equates to a track/song. Each song has information on its release date, which album its in (if its on an album), its popularity, its duration, the artists on the track, whether it’s explicit or not, and more.</li>
</ul></li>
<li><code>get_audio_features()</code>
<ul>
<li>This function was useful in getting the audio features of each track. Each track has audio data such as danceability, loudness, acousticness, energy, and more.</li>
</ul></li>
</ul>
<p>After using these functions, we have a few main datasets. The rap and country datasets have around 1600 rows each and each row is a different song. Within these datasets, we have 200 songs for 8 countries, i.e. the top rappers and country artist’s top songs.</p>
<p>We chose 8 different markets to explore and we aimed to cover a variety of languages, regions and cultures. We chose USA, Great Britain, Mexico, India, Japan, Korea, France, and Ghana. We were limited to countries that have Spotify of course, so that is why China was not included. Moreover, we picked Ghana because, as far as African countries go, Spotify is popular there. And we picked Mexico for a similar reason.</p>
<p>As stated earlier, the API does not provide historical data, which would have been useful in our analysis. Other than this shortcoming, there are no known problems with this data. Of course, when using the Spotify data for analysis, one must be aware that many metrics are the results of Spotify’s proprietary algorithms.</p>
<p>Below is a handful of the variables that Spotify provides for each track/artist:</p>
<ul>
<li>Audio Features
<ul>
<li><code>acousticness</code>
<ul>
<li>measure from 0 to 1 of how acoustic a track is</li>
</ul></li>
<li><code>danceability</code>
<ul>
<li>measure of how suitable a track is for dancing to</li>
<li>relies on factors such as tempo and beat strength</li>
<li>0 is not danceable, 1 is danceable</li>
</ul></li>
<li><code>energy</code>
<ul>
<li>measure from 0 to 1</li>
<li>energetic tracks are loud, fast, noisy</li>
</ul></li>
<li><code>instrumentalness</code>
<ul>
<li>proportional to the % of track that contains vocals</li>
</ul></li>
<li><code>valence</code>
<ul>
<li>describes the “positiveness” of a track</li>
</ul></li>
</ul></li>
<li>Track Features
<ul>
<li><code>release date</code></li>
<li><code>album.type</code>
<ul>
<li>how the song was released</li>
<li>e.g. part of an album, as a single, etc</li>
</ul></li>
<li><code>explicit</code>
<ul>
<li>logical variable</li>
<li>does the song contain explicit language</li>
</ul></li>
<li><code>duration</code>
<ul>
<li>length of a track in milliseconds</li>
</ul></li>
<li><code>restrictions</code>
<ul>
<li>logical variable</li>
<li>denotes whether a track is subject to restrictions</li>
</ul></li>
</ul></li>
<li>Artist Features
<ul>
<li><code>popularity</code>
<ul>
<li>measured fromo 0 to 100 (least to most popular)</li>
<li>factors in the popularity of the artist’s discography</li>
<li>uses listening history as well as how recent those listens are</li>
</ul></li>
<li><code>followers</code>
<ul>
<li>total number of Spotify followers</li>
</ul></li>
</ul></li>
</ul>
<p>For a peak into the data, see below the first five tracks in our main dataset.</p>
<pre><code>##   X disc_number duration_ms explicit
## 1 1           1      120026     TRUE
## 2 2           1      110886     TRUE
## 3 3           1      119133     TRUE
##                                                       href
## 1 https://api.spotify.com/v1/tracks/5TXDeTFVRVY7Cvt0Dw4vWW
## 2 https://api.spotify.com/v1/tracks/2ZRo7axmMPeSVUvDbGkJah
## 3 https://api.spotify.com/v1/tracks/7m9OqQk4RVRkw9JJdeAw96
##                       id is_local is_playable           name popularity
## 1 5TXDeTFVRVY7Cvt0Dw4vWW    FALSE        TRUE        Revenge         84
## 2 2ZRo7axmMPeSVUvDbGkJah    FALSE        TRUE           Hope         83
## 3 7m9OqQk4RVRkw9JJdeAw96    FALSE        TRUE Jocelyn Flores         82
##                                                                                                   preview_url
## 1 https://p.scdn.co/mp3-preview/f5096665f4f47142d704ee0ce47a8df26d256ad8?cid=2c522ebeb84f4aa189ec93288a41d97f
## 2                                                                                                        &lt;NA&gt;
## 3 https://p.scdn.co/mp3-preview/99ae2de8b5e6c95349a9775948f65a331ca2a329?cid=2c522ebeb84f4aa189ec93288a41d97f
##   track_number  type                                  uri album.album_type
## 1            5 track spotify:track:5TXDeTFVRVY7Cvt0Dw4vWW            album
## 2           16 track spotify:track:2ZRo7axmMPeSVUvDbGkJah            album
## 3            2 track spotify:track:7m9OqQk4RVRkw9JJdeAw96            album
##                                                 album.href
## 1 https://api.spotify.com/v1/albums/5VdyJkLe3yvOs0l4xXbWp0
## 2 https://api.spotify.com/v1/albums/2Ti79nwTsont5ZHfdxIzAm
## 3 https://api.spotify.com/v1/albums/5VdyJkLe3yvOs0l4xXbWp0
##                 album.id album.name album.release_date
## 1 5VdyJkLe3yvOs0l4xXbWp0         17         2017-08-25
## 2 2Ti79nwTsont5ZHfdxIzAm          ?         2018-03-16
## 3 5VdyJkLe3yvOs0l4xXbWp0         17         2017-08-25
##   album.release_date_precision album.total_tracks album.type
## 1                          day                 11      album
## 2                          day                 18      album
## 3                          day                 11      album
##                              album.uri
## 1 spotify:album:5VdyJkLe3yvOs0l4xXbWp0
## 2 spotify:album:2Ti79nwTsont5ZHfdxIzAm
## 3 spotify:album:5VdyJkLe3yvOs0l4xXbWp0
##                             album.external_urls.spotify external_ids.isrc
## 1 https://open.spotify.com/album/5VdyJkLe3yvOs0l4xXbWp0      USUYG1156895
## 2 https://open.spotify.com/album/2Ti79nwTsont5ZHfdxIzAm      USUG11800447
## 3 https://open.spotify.com/album/5VdyJkLe3yvOs0l4xXbWp0      USUYG1156892
##                                   external_urls.spotify genre country
## 1 https://open.spotify.com/track/5TXDeTFVRVY7Cvt0Dw4vWW   rap      IN
## 2 https://open.spotify.com/track/2ZRo7axmMPeSVUvDbGkJah   rap      IN
## 3 https://open.spotify.com/track/7m9OqQk4RVRkw9JJdeAw96   rap      IN
##   restrictions.reason
## 1                &lt;NA&gt;
## 2                &lt;NA&gt;
## 3                &lt;NA&gt;</code></pre>
<p>Also see below the full set of audio features that Spotify calculates and provides for each track. Two example tracks are shown below.</p>
<pre><code>## # A tibble: 2 × 18
##   danceability energy   key loudness  mode speechiness acousticness
##          &lt;dbl&gt;  &lt;dbl&gt; &lt;int&gt;    &lt;dbl&gt; &lt;int&gt;       &lt;dbl&gt;        &lt;dbl&gt;
## 1        0.616  0.438     1    -5.97     1      0.0298       0.356 
## 2        0.949  0.661     5    -4.24     0      0.0572       0.0302
## # … with 11 more variables: instrumentalness &lt;int&gt;, liveness &lt;dbl&gt;,
## #   valence &lt;dbl&gt;, tempo &lt;dbl&gt;, type &lt;chr&gt;, id &lt;chr&gt;, uri &lt;chr&gt;,
## #   track_href &lt;chr&gt;, analysis_url &lt;chr&gt;, duration_ms &lt;int&gt;,
## #   time_signature &lt;int&gt;</code></pre>

</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="data-transformation.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/sebycart/Spotify/edit/main/02-data.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/sebycart/Spotify/blob/main/02-data.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
